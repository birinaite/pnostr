function resizeImage(imageUrl,width,height){return new Promise((resolve,reject)=>{const img=new Image;img.src=imageUrl;img.onload=()=>{const canvas=document.createElement("canvas");canvas.width=width;canvas.height=height;const ctx=canvas.getContext("2d");ctx.drawImage(img,0,0,width,height);resolve(canvas.toDataURL("image/jpeg"))};img.onerror=reject})}function resizeImageProportionally(imageUrl,maxWidth,maxHeight){return new Promise((resolve,reject)=>{const img=new Image;img.src=imageUrl;img.onload=()=>{const originalWidth=img.width;const originalHeight=img.height;let width=originalWidth;let height=originalHeight;if(width>maxWidth){height*=maxWidth/width;width=maxWidth}if(height>maxHeight){width*=maxHeight/height;height=maxHeight}const canvas=document.createElement("canvas");canvas.width=width;canvas.height=height;const ctx=canvas.getContext("2d");ctx.drawImage(img,0,0,width,height);resolve(canvas.toDataURL("image/jpeg"))};img.onerror=reject})}
